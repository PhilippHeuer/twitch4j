plugins {
	id "java"
	id "idea"
	id "eclipse"
	id "application"
	id "net.ltgt.apt" version "0.13"
	id 'com.jfrog.bintray' version '1.7.3'
	id "com.cinnober.gradle.semver-git" version "2.3.1"
}
ext {
	nextVersion = "0.11.0"
	snapshotSuffix = "<count>.g<sha>-SNAPSHOT"
	gitDescribeArgs = '--match v*[0-9].[0-9]*.[0-9]*'
	jacksonVersion = "2.9.4"
	jwtVersion = "3.3.0"
	jettyVersion = "9.4.8.v20171121"
	okhttpVersion = "3.10.0"
	guavaVersion = "24.0"
	apacheCommonsIOVersion = "2.6"
	apacheCommonsLang3Version = "3.6"
	logbackVersion = "1.2.3"
	slf4jVersion = "1.7.25"
	lombokVersion = "1.16.20"
	junitVersion = "4.12"
}

group = 'com.github.twitch4j'
sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = "io.twitch4j.Twitch4J"

repositories {
	mavenCentral()
	jcenter()
	maven { url 'https://jitpack.io' }
}

javadoc {
	exclude 'me/philippheuer/twitch4j/impl/**',
			'me/philippheuer/twitch4j/utils/Util.java',
			'me/philippheuer/Twitch4J.java',
			'me/philippheuer/Arguments.java'
	options {
		overview = new File("${projectDir}/src/javadoc/overview.html")
		title = "Twitch 4 Java (${project.version})"
		windowTitle = "${project.name} (${project.version})"
		stylesheetFile = new File("${projectDir}/src/javadoc/css/style.css")
		encoding = "UTF-8"
	}
}

dependencies {
	compile "com.auth0:java-jwt:${jwtVersion}"

	compile "org.eclipse.jetty.websocket:websocket-client:${jettyVersion}"
	compile "org.eclipse.jetty.websocket:websocket-api:${jettyVersion}"
	compile "org.eclipse.jetty.websocket:websocket-servlet:${jettyVersion}"
	compile "org.eclipse.jetty.websocket:javax-websocket-client-impl:${jettyVersion}"

	compile "org.eclipse.jetty:jetty-server:${jettyVersion}"
	compile "org.eclipse.jetty:jetty-servlet:${jettyVersion}"
	compile "org.eclipse.jetty:jetty-util:${jettyVersion}"

	compile "com.squareup.okhttp3:okhttp:${okhttpVersion}"
	compile "com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}"

	compile "commons-io:commons-io:${apacheCommonsIOVersion}"
	compile "org.apache.commons:commons-lang3:${apacheCommonsLang3Version}"

	compile "com.google.guava:guava:${guavaVersion}-jre"

	compile "ch.qos.logback:logback-classic:${logbackVersion}"

	compileOnly "org.projectlombok:lombok:${lombokVersion}"	// Getters, Setters and more.
	apt "org.projectlombok:lombok:${lombokVersion}"

	testCompile "junit:junit:${junitVersion}"
	testCompile "com.squareup.okhttp3:mockwebserver:${okhttpVersion}"
}

wrapper {
	gradleVersion = "4.5.1" // newer version
}
