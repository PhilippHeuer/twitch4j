plugins {
	id "java"
	id "idea"
	id "eclipse"
	id "application"
	id "net.ltgt.apt" version "0.13"
	id 'com.jfrog.bintray' version '1.7.3'
	id "com.cinnober.gradle.semver-git" version "2.3.1"
}

ext.nextVersion = "0.11.0"
ext.snapshotSuffix = "<count>.g<sha>-SNAPSHOT"
ext.gitDescribeArgs = '--match v*[0-9].[0-9]*.[0-9]*'

group = 'com.github.twitch4j'
sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = "me.philippheuer.Twitch4J"

repositories {
	mavenCentral()
	jcenter()
	maven { url 'https://jitpack.io' }
}

javadoc {
	exclude 'me/philippheuer/twitch4j/impl/*',
			'me/philippheuer/twitch4j/utils/Util.java',
			'me/philippheuer/Twitch4J.java',
			'me/philippheuer/Arguments.java'
	options {
		overview = new File("${projectDir}/src/javadoc/overview.html")
		title = "Twitch 4 Java (${project.version})"
		windowTitle = "${project.name} (${project.version})"
		stylesheetFile = new File("${projectDir}/src/javadoc/css/style.css")
		encoding = "UTF-8"
	}
}

dependencies {
	compile "com.auth0:java-jwt:+"

	compile "org.eclipse.jetty.websocket:websocket-client:+"
	compile "org.eclipse.jetty.websocket:websocket-api:+"
	compile "org.eclipse.jetty.websocket:websocket-servlet:+"
	compile "org.eclipse.jetty.websocket:javax-websocket-client-impl:+"

	compile "org.eclipse.jetty:jetty-server:+"
	compile "org.eclipse.jetty:jetty-servlet:+"
	compile "org.eclipse.jetty:jetty-util:+"

	compile "com.squareup.retrofit2:retrofit:+"
	compile "com.squareup.retrofit2:converter-jackson:+"

	compile "org.jdbi:jdbi3-core:+"

	compile "org.isomorphism:token-bucket:1.7"
	compile "net.jodah:expiringmap:0.5.8"
	compile "net.jodah:typetools:0.5.0"

	compile "commons-io:commons-io:+"
	compile "org.apache.commons:commons-lang3:+"

	compile 'com.google.guava:guava:24.0-jre'

	compile "com.beust:jcommander:1.72"

	compile "ch.qos.logback:logback-classic:1.2.3"

	compileOnly "org.projectlombok:lombok:+"	// Getters, Setters and more.
	apt "org.projectlombok:lombok:+"

	testCompile "junit:junit:+"
}

task wrapper(type: Wrapper) {
	gradleVersion = '4.5.1'
}

wrapper {
	gradleVersion = "4.5" // newer version
}
